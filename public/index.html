<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">

	<title>DNA Sequence Visualization</title>

	<!-- Bootstrap 4 CSS -->
	<link rel="stylesheet" type="text/css" href="client/bootstrap.min.css" />



	<!-- Project CSS -->
	<link rel="stylesheet" type="text/css" href="client/style.css" />

	<link id="stm" type="text" href="treeview/sequences_tax_mapping.txt" />

</head>

<body>
	<nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
		<div class="container">
			<a class="navbar-brand" href="/">Team TBD</a>
			<ul class="navbar-nav mr-auto">
				<li class="nav-item">
					<a class="nav-link active" href="/">
						DNA Visualization
					</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="about.html">
						About Us
					</a>
				</li>
			</ul>
		</div>
	</nav>
	<div id = "tree" style="overflow: auto; max-height: 600px; float:right; width:250px;">	
	</div>
	<div class="container">
		<h2>Visualizing DNA Sequences</h2>
		<br>
		<p>
			This visualization was created as an aid to detect errors in DNA sequences, as well as compare DNA
			sequences across different species.
		</p>

		
	</div>
	<!-- JavaScript For Bootstrap 4 -->
	<script src="client/jquery.min.js"></script>
	<script src="client/popper.min.js"></script>
	<script src="client/bootstrap.min.js"></script>

	<!-- D3 JS -->
	<script src="client/d3.min.js"></script>

	<!---Patternfly Treeview-->
	<script src="treeview/bootstrap-treeview.js"></script>

	<!-- <script src="https://d3js.org/d3.v4.js"></script> -->

	<!-- Project JS -->
	<script src="treeview/navbar.js"></script>
	<script>
		// set the dimensions and margins of the graph
		var margin = { top: 30, right: 30, bottom: 30, left: 30 },
			width = 450 - margin.left - margin.right,
			height = 450 - margin.top - margin.bottom;

		// append the svg object to the body of the page
		var svg = d3.select("#my_dataviz")
			.append("svg")
			.attr("width", width + margin.left + margin.right)
			.attr("height", height + margin.top + margin.bottom)
			.append("g")
			.attr("transform",
				"translate(" + margin.left + "," + margin.top + ")");

		// Labels of row and columns
		var myGroups = ["A", "B", "C", "D", "E", "F", "G", "H", "I", "J"]
		var myVars = ["v1", "v2", "v3", "v4", "v5", "v6", "v7", "v8", "v9", "v10"]

		// Build X scales and axis:
		var x = d3.scaleBand()
			.range([0, width])
			.domain(myGroups)
			.padding(0.01);

		svg.append("g")
			.attr("transform", "translate(0," + height + ")")
			.call(d3.axisBottom(x))

		// Build X scales and axis:
		var y = d3.scaleBand()
			.range([height, 0])
			.domain(myVars)
			.padding(0.01);

		svg.append("g")
			.call(d3.axisLeft(y));

		// Build color scale
		var myColor = d3.scaleLinear()
			.range(["white", "#69b3a2"])
			.domain([1, 100])

		var cell = svg.append("g")

		//Read the data
		d3.csv("https://raw.githubusercontent.com/holtzy/D3-graph-gallery/master/DATA/heatmap_data.csv", (d) =>
			cell.append("rect")
				.attr("x", x(d.group))
				.attr("y", y(d.variable))
				.attr("width", x.bandwidth())
				.attr("height", y.bandwidth())
				.style("fill", myColor(d.value))
		)
	</script>


</body>

</html>